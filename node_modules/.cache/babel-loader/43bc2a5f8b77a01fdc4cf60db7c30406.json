{"ast":null,"code":"import _classCallCheck from \"/Users/paristuzun/Development/code/module-4/react-project/boozer/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/paristuzun/Development/code/module-4/react-project/boozer/frontend/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/paristuzun/Development/code/module-4/react-project/boozer/frontend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/paristuzun/Development/code/module-4/react-project/boozer/frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/paristuzun/Development/code/module-4/react-project/boozer/frontend/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/paristuzun/Development/code/module-4/react-project/boozer/frontend/src/components/CocktailContainer.js\";\nimport React from 'react';\nimport { Switch, Route, Redirect } from 'react-router-dom';\nimport Search from './Search';\nimport CocktailList from './CocktailList';\nimport CocktailDetail from './CocktailDetail';\nimport CocktailForm from './CocktailForm';\nimport API from '../services/Backend';\n\nvar CocktailContainer =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(CocktailContainer, _React$Component);\n\n  function CocktailContainer() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, CocktailContainer);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(CocktailContainer)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      searchTerm: '',\n      cocktails: []\n    };\n\n    _this.addCocktail = function (cocktail) {\n      var newCocktail = _this.state.cocktails.concat(cocktail);\n\n      _this.setState({\n        cocktails: newCocktail\n      });\n    };\n\n    _this.handleChange = function (event) {\n      _this.setState({\n        searchTerm: event.target.value\n      });\n    };\n\n    _this.render = function () {\n      return React.createElement(\"div\", {\n        className: \"ui grid container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37\n        },\n        __self: this\n      }, React.createElement(Search, {\n        width: \"sixteen\",\n        searchTerm: _this.state.searchTerm,\n        handleChange: _this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38\n        },\n        __self: this\n      }), React.createElement(Switch, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43\n        },\n        __self: this\n      }, React.createElement(Route, {\n        path: \"/cocktails/new\",\n        render: function render() {\n          return localStorage.getItem(\"name\") ? React.createElement(CocktailForm, {\n            width: \"ten\",\n            addCocktail: _this.addCocktail,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 46\n            },\n            __self: this\n          }) : React.createElement(Redirect, {\n            to: \"/login\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 47\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      })), React.createElement(CocktailList, {\n        width: \"five\",\n        cocktails: _this.state.cocktails,\n        selectCocktail: _this.selectCocktail,\n        toggleForm: _this.showForm,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }), React.createElement(Switch, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, React.createElement(Route, {\n        path: \"/cocktails/:id\",\n        render: function render(_ref) {\n          var match = _ref.match;\n          var cocktailId = parseInt(match.params.id);\n\n          var cocktail = _this.state.cocktails.find(function (cocktail) {\n            return cocktail.id === cocktailId;\n          });\n\n          return cocktail ? React.createElement(CocktailDetail, {\n            width: \"ten\",\n            cocktail: cocktail,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 62\n            },\n            __self: this\n          }) : null;\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      })));\n    };\n\n    return _this;\n  }\n\n  _createClass(CocktailContainer, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      fetch('http://localhost:3000/api/v1/cocktails').then(function (res) {\n        return res.json();\n      }).then(function (cocktails) {\n        return _this2.setState({\n          cocktails: cocktails\n        });\n      });\n    }\n  }]);\n\n  return CocktailContainer;\n}(React.Component);\n\nexport default CocktailContainer;","map":{"version":3,"sources":["/Users/paristuzun/Development/code/module-4/react-project/boozer/frontend/src/components/CocktailContainer.js"],"names":["React","Switch","Route","Redirect","Search","CocktailList","CocktailDetail","CocktailForm","API","CocktailContainer","state","searchTerm","cocktails","addCocktail","cocktail","newCocktail","concat","setState","handleChange","event","target","value","render","localStorage","getItem","selectCocktail","showForm","match","cocktailId","parseInt","params","id","find","fetch","then","res","json","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Switch, Route, Redirect } from 'react-router-dom';\nimport Search from './Search'\n\nimport CocktailList from './CocktailList';\nimport CocktailDetail from './CocktailDetail';\nimport CocktailForm from './CocktailForm';\nimport API from '../services/Backend';\n\nclass CocktailContainer extends React.Component {\n\n\tstate = {\n\t\tsearchTerm: '',\n    cocktails: []\n  }\n\n\tcomponentDidMount() {\n\t\tfetch('http://localhost:3000/api/v1/cocktails')\n\t\t\t.then(res => res.json())\n\t\t\t.then(cocktails => this.setState({ cocktails }));\n\t}\n\n\taddCocktail = (cocktail) => {\n    let newCocktail = this.state.cocktails.concat(cocktail)\n    this.setState({ cocktails: newCocktail })\n  }\n\n\thandleChange = (event) => {\n    this.setState({\n      searchTerm: event.target.value\n    })\n  }\n\n\n\trender = () => {\n    return (\n      <div className=\"ui grid container\">\n\t\t\t<Search\n\t\t\t  width=\"sixteen\"\n\t\t\t  searchTerm={this.state.searchTerm}\n\t\t\t\thandleChange={this.handleChange} />\n\n\t\t\t<Switch>\n\t\t\t\t<Route path=\"/cocktails/new\" render={() => (\n\t\t\t\t\tlocalStorage.getItem(\"name\") ? (\n\t\t\t\t\t\t<CocktailForm width=\"ten\" addCocktail={this.addCocktail} />\n\t\t\t\t\t) : <Redirect to=\"/login\" />\n\t\t\t\t)} />\n\n\t\t\t\t</Switch>\n\n\t\t\t\t<CocktailList\n\t\t\t\t\twidth=\"five\"\n\t\t\t\t\tcocktails={this.state.cocktails}\n\t\t\t\t\tselectCocktail={this.selectCocktail}\n\t\t\t\t\ttoggleForm={this.showForm}\n\t\t\t\t/>\n\t\t\t\t<Switch>\n\t\t\t\t<Route path=\"/cocktails/:id\" render={({ match }) => {\n\t\t\t\t\tlet cocktailId = parseInt(match.params.id)\n\t\t\t\t\tlet cocktail = this.state.cocktails.find(cocktail => cocktail.id === cocktailId)\n\t\t\t\t\treturn cocktail ? <CocktailDetail width=\"ten\" cocktail={cocktail} /> : null;\n\t\t\t\t}} />\n\t\t\t</Switch>\n      </div>\n    )\n  }\n}\n\n\nexport default CocktailContainer\n"]},"metadata":{},"sourceType":"module"}